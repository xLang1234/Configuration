var problemAccounts={},onMount=function(){var e=document.createElement("div");e.id="overlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.backgroundColor="rgba(0, 0, 0, 0.7)",e.style.zIndex="99",e.style.display="none";var o=document.createElement("button");o.innerHTML="Collect All",o.onclick=function(){autoCollectionBot()};var t=document.createElement("button");t.innerHTML="Level Up",t.onclick=function(){console.log("Button 2 clicked"),levelUp()};var s=document.createElement("button");s.innerHTML="Rush",s.onclick=function(){rush=!rush},s.style.margin="10px",e.appendChild(s);var a=document.createElement("button");a.innerHTML="Relic",a.onclick=function(){relicClear()},a.style.margin="10px",e.appendChild(a);var n=document.createElement("button");n.innerHTML="Expedition",n.onclick=function(){var e=prompt("Please enter expedition level","1");x=parseInt(e),pExp=!pExp},n.style.margin="10px",e.appendChild(n);var r=document.createElement("button");r.innerHTML="NewAccount",r.onclick=function(){var e=prompt("Please enter key","1");startNewAccount(e)},r.style.margin="10px",e.appendChild(n),o.style.margin="10px",t.style.margin="10px",e.appendChild(o),e.appendChild(t);var i=document.createElement("button");i.id="mineButton",i.innerHTML="Show Overlay",i.onclick=function(){var e=document.getElementById("overlay");"none"===e.style.display?e.style.display="block":e.style.display="none"},i.style.zIndex="999",i.style.position="absolute",i.style.top="10px",i.style.right="10px",document.body.appendChild(i),document.body.appendChild(e);var l=document.createElement("div");function d(){l.innerHTML="";for(const s in problemAccounts){var e=document.createElement("div");e.style.margin="10px";var o=document.createElement("div");o.innerHTML=s,o.style.fontWeight="bold",o.style.fontSize="20px",o.style.marginBottom="5px",e.appendChild(o);var t=document.createElement("div");t.innerHTML=JSON.stringify(problemAccounts[s]),e.appendChild(t),l.appendChild(e)}}l.id="problemSection",l.style.position="absolute",l.style.top="10px",l.style.right="10px",l.style.zIndex="999",l.style.color="white",d(),setInterval(d,5e3),e.appendChild(l)};console.log("hello we are here");var activate=!1,ratePerSec=199,specialId=0,specialTime=0,specialActivate=0,campId=0,sendOn=!1,oppSide=!1,alternate=!0,rush=!1,pExp=!1,process=!1,onBuyBot=!1,raffle=!1,summon=!1,summon2=!1,mineReroll=!1,mine=!1;onMount();var getJson=function(e){return new Promise((function(o,t){var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="json",s.onload=function(){var e=s.status;200===e?o(s.response):t(e)},s.send()}))},activateStatus=async function(){return await getJson("https://raw.githubusercontent.com/xLang1234/Configuration/master/config.json").then((function(e){return e.activate})),!1},checkStatus=async function(e){try{problemAccounts[e]={},""==window.RoleModel.corpName&&(problemAccounts[e].legion="none");var o=window.Custom.ActivityModel.infoList[130401].acTaskInfoMap[403].value;o<=600&&(buyOldGold(),await sleep(1e3),sendMessage({protocol:30122,activityId:130401,id:[403]}),problemAccounts[e].goldspent=o);var t=window.InterstellarModel.interstellarInfo.baseHp,s=window.InterstellarModel.isMapOver();t>0&&!s&&(relicClear(),problemAccounts[e].stellar=!1);try{sendMessage({protocol:285,version:0,rankId:4,isGetPre:!1}),await sleep(1e3);var a=window.Custom.RankModel.rankMap.get(4).userRankData.rank,n=window.Custom.RankModel.rankMap.get(4).userRankData.value;problemAccounts[e].rank={rank:a,value:n}}catch(e){console.log(e)}for(;sendMessage({protocol:420,shopType:2}),await sleep(1e3),window.Custom.ShopModel.shopStoreList[2]&&1==window.Custom.ShopModel.shopStoreList[2][2].stock;)sendMessage({protocol:421,shopId:20005,sum:1}),await sleep(1e3)}catch(e){console.log(e)}},claimExpedRewards=function(){for(var e=101;e<120;e++)sendMessage({protocol:3402,id:e})},relicClear=async function(){if(activateStatus())for(var e=0;e<70;e++){var o=window.InterstellarModel.interstellarInfo.baseHp,t=window.InterstellarModel.isMapOver();if(0==o||t)return;sendMessage({protocol:3703}),sendMessage({protocol:3702,index:0,selectIndex:void 0}),sendMessage({protocol:3704,index:0,selectIndex:void 0}),sendMessage({protocol:3706}),sendMessage({protocol:3708}),await sleep(300)}},putOnMedal=function(){sendMessage({protocol:3505,configId:800001,putOn:!0}),sendMessage({protocol:3505,configId:800002,putOn:!0}),sendMessage({protocol:3505,configId:800003,putOn:!0})},rankUpZealot=function(){var e=window.Custom.HeroModel.ownHeros,o=0;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const s=e[t];if(130007==s.heroConfigId){o=s.heroId;break}}var t=[],s=[];for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];130010!=a.heroConfigId&&130008!=a.heroConfigId||t.push(a.heroId),120009!=a.heroConfigId&&120011!=a.heroConfigId||s.push(a.heroId)}sendMessage({protocol:342,heroId:o,homeCountryHeroIds:t,sameNameHeroIds:[],arbitraryCount:s})},startNewAccount=async function(e){activateStatus()&&(loginAccount(e),await sleep(15e3),claimEpic(),await sleep(1e4),rankUpZealot(),putOnMedal(),specialLevel(),await sleep(2e3),dPush(),await sleep(6e4),claimExpedRewards(),specialLevel(),await sleep(2e3),getAllRewards(),await sleep(1e4),getAllRewards(),autochat(),await sleep(1e4),dPush(),sendMessage({protocol:2580}),relicClear(),getAllRewards())},dPush=function(){rush=!rush,pExp=!pExp};function sleep(e){return new Promise((o=>setTimeout(o,e)))}var buyOldGold=function(){sendMessage({protocol:421,shopId:20007,sum:4})},dailyBuyOldGold=async function(){for(const e in accounts)"main"!=e&&(loginAccount(e),await sleep(8e3),buyOldGold())},dailyBot=async function(e){activateStatus()&&(loginAccount(e),await sleep(8e3),autochat(),relicClear(),sleep(2e3),sendMessage({protocol:361,type:2,num:10,free:!1}),getAllRewards(),await sleep(1e4),getAllRewards())},autoDailyBot=async function(){for(const e in accounts)"main"!=e&&(await dailyBot(e),await sleep(2e3))},loopCollectionBot=async function(){for(;;)await autoCollectionBot()},autoCollectionBot=async function(){if(activateStatus())for(const e in accounts)loginAccount(e),await sleep(1e4),getAllRewards(),await sleep(3e4),await checkStatus(e),await sleep(2e3)},autochat=function(){setTimeout((function(){sendMessage({protocol:220,msg:"#21",type:3,targetPlayerId:void 0,msgType:0})}),0),setTimeout((function(){sendMessage({protocol:220,msg:"#31",type:3,targetPlayerId:void 0,msgType:0})}),11e3),setTimeout((function(){sendMessage({protocol:220,msg:"#11",type:3,targetPlayerId:void 0,msgType:0})}),22e3),setTimeout((function(){sendMessage({protocol:220,msg:"#24",type:3,targetPlayerId:void 0,msgType:0})}),33e3),setTimeout((function(){sendMessage({protocol:220,msg:"#26",type:3,targetPlayerId:void 0,msgType:0})}),44e3)},specialLevel=function(){var e=window.Custom.HeroModel.ownHeros;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const t=e[o];130007!=t.heroConfigId&&110008!=t.heroConfigId||levelUp(t.heroId)}},sendMon=function(){mine&&(process=!0,sendMessage({protocol:5128,sceneId:2})),mineReroll&&sendMessage({protocol:5117,type:1,consumeType:1}),raffle&&sendMessage({protocol:4872,num:10}),summon&&sendMessage({protocol:361,type:1,num:10,free:!1}),summon2&&sendMessage({protocol:361,type:2,num:10,free:!1}),sendOn&&(alternate&&messageCraft(20,[10]),alternate||messageCraft(20,[11]),alternate=!alternate)},messageCraft=function(e,o){sendMessage({protocol:10010,fightId:specialId,order:{time:specialTime,orderId:e,arg:o},heroId:0})},x=0,pushExped=function(){pExp&&(sendMessage({protocol:3401,levelId:x}),x++)},sendMessage=async function(e){await activateStatus()&&window.ServiceBuilder.sendMessage(e)},fn=function(){specialActivate&&(console.log("Trigger clicking"),2==campId&&(messageCraft(1,[2,230005,1434,1586,0]),messageCraft(1,[2,230065,1454,1743,0]),messageCraft(1,[2,230035,1468,1942,0]),1==specialActivate&&snowAreaTop(),2==specialActivate&&desertAreaRight()),1==campId&&(messageCraft(1,[1,230005,1237,1865,0]),messageCraft(1,[1,230065,1270,2027,0]),messageCraft(1,[1,230035,1256,2202,0]),1==specialActivate&&snowAreaBottom(),2==specialActivate&&desertAreaLeft()),messageCraft(5,[2,10042,201221,0,0,0,0,0]),messageCraft(5,[2,10052,201821,0,0,0,0,0]),messageCraft(5,[2,10064,202621,20024,0,0,0,0]),messageCraft(5,[2,10074,203221,0,0,0,0,0]))},loginAccount=function(e){console.log("Login as "+e),window.PlatformManager.onLogoutSuccessCallBack(),setTimeout((function(){sendMessage({protocol:100,param:accounts[e].param,device:"",deviceSys:"",deviceBrand:"",deviceType:"",ISP:3,mac:"",loginFlag:1694889795.745,serverId:2,version:1})}),2e3)},unitId={10058:"riot zealot",10055:"magnetic warrior"},snowAreaTop=function(){messageCraft(6,[2,102,0,0,10048]),messageCraft(6,[2,101,0,0,10060]),messageCraft(6,[2,104,0,0,10039]),messageCraft(6,[2,103,0,0,10058]),messageCraft(5,[2,10048,200521,20976,515,913,0,-18]),messageCraft(5,[2,10039,200521,20976,390,369,0,47]),messageCraft(5,[2,10060,202221,21026,803,271,0,-79]),messageCraft(5,[2,10049,201521,20144,29,1058,173,173]),messageCraft(5,[2,10058,202021,20061,260,891,-178,-178]),messageCraft(5,[2,10055,200821,20800,450,943,179,179]),oppSide?(messageCraft(5,[2,10055,200821,20872,1224,645,-37,-37]),messageCraft(5,[2,10049,201521,0,1224,645,-37,-37]),messageCraft(5,[2,10066,202821,20202,1224,645,-37,-37])):(messageCraft(5,[2,10055,200821,20872,505,915,-171,-171]),messageCraft(5,[2,10049,201521,0,505,915,-171,-171]),messageCraft(5,[2,10066,202821,20202,505,915,-171,-171]))},snowAreaBottom=function(){},desertAreaLeft=function(){},desertAreaRight=function(){messageCraft(6,[2,101,0,0,10048]),messageCraft(6,[2,106,0,0,10058]),messageCraft(6,[2,105,0,0,10060]),messageCraft(6,[2,102,0,0,10039]),messageCraft(5,[2,10058,202021,21316,1042,2313,90,90]),messageCraft(5,[2,10060,202221,21804,1042,1214,0,-52]),messageCraft(5,[2,10039,200521,21804,1059,1539,0,-163]),messageCraft(5,[2,10048,200521,21804,1052,1857,0,-61]),oppSide?(messageCraft(5,[2,10055,200821,20299,1055,924,-90,-90]),messageCraft(5,[2,10049,201521,0,1055,924,-90,-90]),messageCraft(5,[2,10066,202821,20202,1055,924,-90,-90])):(messageCraft(5,[2,10055,200821,20299,1055,1640,86,86]),messageCraft(5,[2,10049,201521,0,1055,1640,86,86]),messageCraft(5,[2,10066,202821,20202,1055,1640,86,86]))},rushWave=function(){rush&&sendMessage({protocol:2601})},buyBotRate=1e3/ratePerSec,times=6,buyBot=function(){if(onBuyBot)for(var e=5;e<times;e++)sendMessage({protocol:3901,sortType:2,page:e,goodsSubType:0,marketType:0})};let itemPrices={12:2500,11:1400,10:751,9:300,8:101,7:40,6:5,5:4,4:1,3:0};var buyingItems=function(e){if(onBuyBot)for(const o in e.marketInfos)if(Object.prototype.hasOwnProperty.call(e.marketInfos,o)){const t=e.marketInfos[o];t.price/1e4<=itemPrices[t.param]&&(console.log("buyable "+t.param+" stars @ "+t.price/1e4),sendMessage({protocol:3905,id:t.id,password:""}))}};setInterval(fn,500),setInterval(sendMon,200),setInterval(rushWave,500),setInterval(pushExped,500),setInterval(buyBot,buyBotRate);var medalUpgrade=function(e,o){const t=e.sameQualityList[0],s=new Array(o).fill(t);e.sameQualityList=s,sendMessage(e)},eqUpgrade=function(e,o){const t=e.consumeEquipId[0],s=new Array(o).fill(t);e.consumeEquipId=s,sendMessage(e)},rushArena=function(){sendMessage({protocol:2706,type:1,pos:0}),sendMessage({protocol:10017,fightId:specialId,orderList:[{time:0,orderId:2,arg:[1,10001,1]},{time:0,orderId:2,arg:[1,10003,3]},{time:0,orderId:2,arg:[1,10002,4]},{time:0,orderId:2,arg:[1,10004,2]}],result:null})};function __pri_log(e,...o){o?console.log("[LOG]",e,...o):console.log("[LOG]",e)}var levelUp=function(){for(var e=0;e<80;e++)sendMessage({protocol:341,heroId:heroId})},autoClearRelic=function(){if(0==window.InterstellarModel.interstellarInfo.baseHp)return;window.InterstellarModel.mapData.path,window.InterstellarModel.getFlagCoor()},randomLevelUpHero=function(){for(const e in window.Custom.HeroModel.ownHeros){const o=window.Custom.HeroModel.ownHeros[e];if(1==o.heroLv)return void sendMessage({protocol:341,heroId:o.heroId})}},evolveHero=function(){sendMessage({protocol:342,heroId:2678580641793,homeCountryHeroIds:[2680707465218,2680707371039],sameNameHeroIds:[],arbitraryCount:[2680707416065,2678597898241]})},assignTask=function(){Object.keys(window.Custom.HeroModel.ownHeros);let e=window.Custom.OfferRewardModel.offRewardList,o=(e.map((e=>e.id)),[]),t=[];for(var s=0;s<e.length;s++){let n=e[s];if(0==n.time){var a=SpecialOfferRewardConfig[n.configId];for(const e in window.Custom.HeroModel.ownHeros)if(Object.prototype.hasOwnProperty.call(window.Custom.HeroModel.ownHeros,e)){const s=window.Custom.HeroModel.ownHeros[e];if(window.Custom.OfferRewardModel.checkHeroInOfferReward(s.heroId))continue;(-1!=a.camp.indexOf(s.config.camp)||1==a.camp.length&&0==a.camp[0])&&(s.heroStar>=a.star.itemId?o.push(s.heroId):t.push(s.heroId))}}}o.sort(((e,o)=>{let t=window.Custom.HeroModel.getOwnHero(e),s=window.Custom.HeroModel.getOwnHero(o);return t.heroStar==s.heroStar?t.heroLv-t.heroLv:t.heroStar-s.heroStar})),o=o.concat(t);for(s=0;s<e.length;s++){let t=e[s];if(0!=t.time)continue;let n=[],r=(a=SpecialOfferRewardConfig[t.configId]).camp.slice(0);for(let e=0;e<o.length;e++){const t=o[e];let s=window.Custom.HeroModel.getOwnHero(t);n.length<a.star.count&&s.heroStar<a.star.itemId||n.length<a.camp.length&&(-1!=r.indexOf(s.config.camp)||1==a.camp.length&&0==this.m_tCfg.camp[0])&&(n.push(t),r.splice(r.indexOf(s.config.camp),1))}n.length<a.camp.length||sendMessage({protocol:3102,id:t.id,heroId:n})}};function getCombi(e){function o(e,t,s,a,n){if(0!==t)for(let r=s;r<e.length;r++)n.push(e[r]),o(e,t-1,r+1,a,n),n.pop();else a.push([...n])}const t=[1,2,3,4,5,6],s=[];for(let e=1;e<=t.length;e++)o(t,e,0,s,[]);return s.filter((o=>o.length===e))}var handleResource=function(e){process&&(sendMessage({protocol:5129,type:3}),e.pullResult.first||sendMessage({protocol:5129,type:2}))},doReroll=function(e){e.deviceData.stashedRefreshAttrs;if(e.deviceData.stashedRefreshAttrs.length<3)sendMessage({protocol:5118,type:1,replace:!1});else{for(var o=0;o<3;o++){var t=e.deviceData.stashedRefreshAttrs[o];if(-1==[5,10,15].indexOf(t.itemId))return void sendMessage({protocol:5118,type:1,replace:!1});if(t.count<1300)return void sendMessage({protocol:5118,type:1,replace:!1})}sendMessage({protocol:5118,type:1,replace:!0})}};let counterPos=0,pos=2,captureLogin=function(e){let o=e.param.user_id,t=e.param,s=localStorage.getItem("logins");s=null==s?{}:JSON.parse(s),null==s[o]&&(s[o]={}),s[o]={param:t};let a=JSON.stringify(s);localStorage.setItem("logins",a)},loginByLocal=function(){let e=JSON.parse(localStorage.getItem("logins"));for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const t=e[o];sendMessage({protocol:100,param:t.param,device:"",deviceSys:"",deviceBrand:"",deviceType:"",ISP:3,mac:"",loginFlag:1698371980.088,serverId:2,version:1})}};var heroId=0,getHeroId=function(e){heroId=e.heroId};let customSendingHandler=function(e,o){let t=JSON.parse(o);100==e&&captureLogin(t),341==e&&getHeroId(t)};var customFunctionHandler=function(e,o,t){if("S2C_MARKET_LSIT"!=o)return"S2C_RESOURCE_COLLECT_PULL"==o&&handleResource(t),"S2C_RESOURCE_COLLECT_DEVICE_INFO"==o&&doReroll(t),"S2C_BATTLE_START"==o&&(4==t.initData.type&&(counterPos+=1,pos=counterPos%5,sendMessage({protocol:10002,fightId:t.fightId,type:4,result:{result:1,orderList:[{time:0,orderId:17,arg:[1,1]},{time:0,orderId:2,arg:[1,10001,pos]},{time:0,orderId:2,arg:[1,10002,(pos+1)%5]},{time:0,orderId:2,arg:[1,1003,(pos+2)%5]},{time:0,orderId:2,arg:[1,10004,(pos+3)%5]},{time:0,orderId:2,arg:[1,10005,(pos+4)%5]}],baseHp:10,time:42100,wave:3,maxWave:3,version:"61276_DDAAFC4D639D49EDA5408524989B56EF_76da1d1c116a653affb09a7b861c4d61",useMercenaryList:[],otherDropItems:[],monDropItems:[],dropWaveIds:[],hurtList:[],towerList:[{playerId:0,heroList:[],autoUseSkill:!0}],putOnMedalList:[],customData:null},dropOrders:[],retryNum:0})),8==t.initData.type&&sendMessage({protocol:10002,fightId:t.fightId,type:8,result:{result:1,orderList:[{time:0,orderId:17,arg:[1,1]},{time:0,orderId:2,arg:[1,10001,3]},{time:0,orderId:2,arg:[1,10002,2]},{time:0,orderId:2,arg:[1,10003,1]},{time:0,orderId:2,arg:[1,10004,4]}],baseHp:10,time:39900,wave:3,maxWave:3,version:"61276_DDAAFC4D639D49EDA5408524989B56EF_63984e00e72a4d20f997f97764134fec",useMercenaryList:[],otherDropItems:[],monDropItems:[],dropWaveIds:[],hurtList:[],towerList:[{playerId:0,heroList:[],autoUseSkill:!0}],putOnMedalList:[],customData:null},dropOrders:[],retryNum:0}),6==t.initData.type&&sendMessage({protocol:10017,fightId:t.fightId,orderList:[{time:0,orderId:2,arg:[1,10004,1]}],result:null}),10==t.initData.type&&sendMessage({protocol:10002,fightId:t.fightId,type:10,result:{result:1,orderList:[{time:0,orderId:17,arg:[1,1]},{time:0,orderId:2,arg:[1,10002,1]},{time:0,orderId:2,arg:[1,10004,2]},{time:0,orderId:2,arg:[1,10001,3]},{time:0,orderId:2,arg:[1,10009,4]}],baseHp:10,time:46500,wave:3,maxWave:3,version:"61276_DDAAFC4D639D49EDA5408524989B56EF_4b0c56897b1b4e1795449e2377b9704a",useMercenaryList:[],otherDropItems:[],monDropItems:[],dropWaveIds:[],hurtList:[],towerList:[{playerId:0,heroList:[],autoUseSkill:!0}],putOnMedalList:[],customData:null},dropOrders:[],retryNum:0})),t.fightId&&(specialId=t.fightId),t.initData&&t.initData.playerList&&t.initData.playerList[1]&&(t.initData.playerList[1].autoUseSkill=!0,600005==t.initData.levelId||600004==t.initData.levelId||600006==t.initData.levelId?specialActivate=1:600001!=t.initData.levelId&&600002!=t.initData.levelId&&600003!=t.initData.levelId||(specialActivate=2),campId=t.playerCampId),!1;buyingItems(t)},buyMedal=function(){sendMessage({protocol:361,type:10,num:1,free:!0})},buyStore=function(){sendMessage({protocol:420,shopType:2}),setTimeout((function(){sendMessage({protocol:421,shopId:20006,sum:5})}),0),setTimeout((function(){sendMessage({protocol:421,shopId:20005,sum:1})}),500),setTimeout((function(){sendMessage({protocol:421,shopId:601,sum:1})}),1e3),setTimeout((function(){sendMessage({protocol:421,shopId:30008,sum:5})}),1500),setTimeout((function(){sendMessage({protocol:361,type:1,num:1,free:!0})}),2e3)},claimEpic=function(){setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:1});for(let e=0;e<35;e++){sendMessage({protocol:3803,epicCampaignMapEventId:1e6+e})}}),1e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:2});for(let e=0;e<80;e++){sendMessage({protocol:3803,epicCampaignMapEventId:2001e3+e})}}),2e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:3});for(let e=0;e<85;e++){sendMessage({protocol:3803,epicCampaignMapEventId:3001e3+e})}}),3e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:4});for(let e=0;e<85;e++){sendMessage({protocol:3803,epicCampaignMapEventId:4001e3+e})}}),4e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:5});for(let e=0;e<110;e++){sendMessage({protocol:3803,epicCampaignMapEventId:5001e3+e})}}),5e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:6});for(let e=0;e<110;e++){sendMessage({protocol:3803,epicCampaignMapEventId:6001e3+e})}}),6e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:7});for(let e=0;e<200;e++){sendMessage({protocol:3803,epicCampaignMapEventId:7001e3+e})}}),7e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:8});for(let e=0;e<150;e++){sendMessage({protocol:3803,epicCampaignMapEventId:8001e3+e})}}),8e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:9});for(let e=0;e<200;e++){sendMessage({protocol:3803,epicCampaignMapEventId:9001e3+e})}}),9e3)},claimRiot=function(){setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:1});for(let e=0;e<35;e++){sendMessage({protocol:3803,epicCampaignMapEventId:1e6+e})}}),1e3)},claimMax=function(){setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:1});for(let e=0;e<35;e++){sendMessage({protocol:3803,epicCampaignMapEventId:1e6+e})}}),1e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:2});for(let e=0;e<80;e++){sendMessage({protocol:3803,epicCampaignMapEventId:2001e3+e})}}),2e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:3});for(let e=0;e<85;e++){sendMessage({protocol:3803,epicCampaignMapEventId:3001e3+e})}}),3e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:4});for(let e=0;e<85;e++){sendMessage({protocol:3803,epicCampaignMapEventId:4001e3+e})}}),4e3),setTimeout((function(){sendMessage({protocol:3802,epicCampaignId:5});for(let e=0;e<110;e++){sendMessage({protocol:3803,epicCampaignMapEventId:5001e3+e})}}),5e3)},legionTrial=function(){var e=[],o=[];for(const s in window.Custom.HeroModel.ownHeros)for(var t=0;t<3;t++){if(-1!=e.indexOf(4+t))continue;if(-1!=o.indexOf(window.Custom.HeroModel.ownHeros[s].heroId))continue;const a=window.Custom.HeroModel.ownHeros[s];a.heroLv>=60&&(sendMessage({protocol:572,id:4+t,heroId:[a.heroId]}),e.push(4+t),o.push(a.heroId))}},getHelp=function(){var e=window.Custom.HeroModel.ownHeros;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const t=e[o];130007==t.heroConfigId&&sendMessage({protocol:518,heroId:t.heroId})}},collectTask=function(){sendMessage({protocol:203,taskId:700002,taskConditionId:7000020}),sendMessage({protocol:203,taskId:700003,taskConditionId:7000030}),sendMessage({protocol:203,taskId:700004,taskConditionId:7000040}),sendMessage({protocol:203,taskId:700005,taskConditionId:7000050}),sendMessage({protocol:203,taskId:700008,taskConditionId:7000080}),sendMessage({protocol:203,taskId:700009,taskConditionId:7000090}),sendMessage({protocol:203,taskId:700010,taskConditionId:7000100}),sendMessage({protocol:203,taskId:700012,taskConditionId:7000120}),sendMessage({protocol:203,taskId:700013,taskConditionId:7000130}),sendMessage({protocol:203,taskId:700014,taskConditionId:7000140}),sendMessage({protocol:203,taskId:700015,taskConditionId:7000150}),sendMessage({protocol:206,id:1}),sendMessage({protocol:206,id:2}),sendMessage({protocol:206,id:3}),sendMessage({protocol:206,id:4}),sendMessage({protocol:206,id:5})},catchUp=function(){for(var e=3400,o={protocol:30122,activityId:130401,id:[]},t=401,s=0;s<e;s++)o.id.push(t);sendMessage(o),o={protocol:30122,activityId:130401,id:[]},t=402;for(s=0;s<e;s++)o.id.push(t);sendMessage(o),o={protocol:30122,activityId:130401,id:[]};for(t=403,s=0;s<e;s++)o.id.push(t);sendMessage(o),o={protocol:30122,activityId:130401,id:[]};for(t=404,s=0;s<e;s++)o.id.push(t);sendMessage(o),o={protocol:30122,activityId:130401,id:[]};for(t=405,s=0;s<e;s++)o.id.push(t);sendMessage(o)},getAllRewards=async function(){buyStore(),setTimeout((function(){randomLevelUpHero(),assignTask(),getHelp(),legionTrial(),sendMessage({protocol:363,autoLayOff:!0}),sendMessage({protocol:4863}),sendMessage({protocol:3704,index:0}),sendMessage({protocol:242}),sendMessage({protocol:2603}),sendMessage({protocol:2604,buy:!1}),sendMessage({protocol:516,buildId:3}),sendMessage({protocol:519,playerId:0,supplyId:0}),sendMessage({protocol:532,id:0}),sendMessage({protocol:3404,id:105}),sendMessage({protocol:3101,id:0}),sendMessage({protocol:578,pos:0}),sendMessage({protocol:578,pos:1}),sendMessage({protocol:578,pos:2}),sendMessage({protocol:2601}),sendMessage({protocol:2706,type:1,pos:0}),collectTask(),sendMessage({protocol:30122,activityId:130401,id:[401]}),sendMessage({protocol:30122,activityId:130401,id:[402]}),sendMessage({protocol:30122,activityId:130401,id:[403]}),sendMessage({protocol:30122,activityId:130401,id:[404]}),sendMessage({protocol:30122,activityId:130401,id:[405]}),sendMessage({protocol:30153,activityId:130402}),sendMessage({protocol:481,warOrderRewardId:0,activityId:110008}),sendMessage({protocol:481,warOrderRewardId:0,activityId:110007})}),2500),await sleep(1e3),sendMessage({protocol:2580})};function cleanData(e){const o={};for(const t in e)if(e.hasOwnProperty(t)){const s=e[t];o[t]={row:s.row,col:s.col,data:s.data.data,isComplete:s.data.isComplete,isGetReward:s.data.isGetReward}}return o}function paladinUp(){for(let e=0;e<3;e++)for(let o=0;o<4;o++)for(let t=0;t<9;t++)sendMessage({protocol:259+(e+""),heroConfigId:"1"+(o+1)+"000"+(t+1)})}function findSkillPath(e){let o=0,t=0;const s=[];for(;o<10;){const a=e[o];let n=-1,r=-1;for(let e=0;e<a.data.skillList.length;e++)a.data.skillList[e]>n&&(n=a.data.skillList[e],r=e);o++,t=a.data.skillList.length>1?r+1:0,s.push({row:o-1,col:t,skillList:n})}console.log(skillPath)}var battleOptimizer=function(){window.Custom.BattleModel.getFightId();const e=window.Custom.BattleSceneMgr.Ins.battleLogic.getInitTowerOrderList().length,o=new Array(e).fill(0);let t=1;const s=[],a=[];let n=1,r=window.Custom.BattleSceneMgr.Ins.calculateResult();for(r.result.baseHp<10&&1===r.result.result&&(s.push(window.Custom.BattleSceneMgr.Ins.battleLogic.getInitTowerOrderList()),a.push(r)),0==r.result.baseHp&&(t=10);t<e;)if(o[t]<t){console.log(n);const e=t%2==1?o[t]:0;window.Custom.BattleSceneMgr.Ins.battleLogic.playerSwapTower(e+1,t+1);let r=window.Custom.BattleSceneMgr.Ins.calculateResult();if(r.result.baseHp<10&&(s.push(window.Custom.BattleSceneMgr.Ins.battleLogic.getInitTowerOrderList()),a.push(r)),0==r.result.baseHp)break;o[t]++,t=1,n++,n%100==0&&LoginProxy.send_PLAYER_HEARTBEAT()}else o[t]=0,t++;let i=11,l=-1;if(0===a.length)return s.push(window.Custom.BattleSceneMgr.Ins.battleLogic.getInitTowerOrderList()),void a.push(window.Custom.BattleSceneMgr.Ins.calculateResult());for(const[e,o]of a.entries()){if(0===o.result.baseHp){l=e;break}o.result.baseHp<i&&(i=o,l=e)}return[s[l],a[l]]},heroSpaceUp=function(){sendMessage({protocol:429,funBuyModule:10,id:1300,num:495})},accounts={},SpecialOfferRewardConfig={};